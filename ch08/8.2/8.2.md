# Exercises for Section 8.2### 8.2.1
Generate code for the following three-address statements as­ suming all variables are stored in memory locations.
1. x = 12. x = a3. x = a + 14. x = a + b5. The two statements    - x = b * c    - y = a + x#### answer
    1.  LD R1, 1
        ST x, R1
    2.  LD R1, a
        ST x, R1    3.  LD R1, a        ADD R1, R1, 1        ST x, R1    4.  LD R1, a        LD R2, b        ADD R1, R1, R2        ST x, R1    5.  LD R1, b        LD R2, c        MUL R1, R1, R2        LD R3, a        ADD R3, R3, R1        ST y, R3### 8.2.2
Generate code for the following three-address statements as­ suming a and b are arrays whose elements are 4-byte values.
1. The four-statement sequence        x = a[i]        y = b[j]        a[i] = y
        b[j] = x2. The three-statement sequence        x = a[i]
        y = b[i]
        z = x * y
3. The three-statement sequence        x = a[i]
        y = b[x]
        a[i] = y￼￼#### answer    1.  LD R1, i        MUL R1, R1, 4        LD R2, a(R1)        LD R3, j        MUL R3, R3, 4        LD R4, b(R3)        ST a(R1), R2        ST b(R3), R4    2.  LD R1, i        MUL R1, R1, 4        LD R2, a(R1)        LD R3, b(R1)        MUL R2, R2, R3        ST z, R2    3.  LD R1, i        MUL R1, R1, 4        LD R2, a(R1)        LD R3, b(R2)        ST a(R1), R3
### 8.2.3

Generate code for the following three-address sequence as­ suming that p and q are in memory locations:

    y = *q    q = q + 4    *p = y    P = P + 4#### answer    LD R1, q    LD R2, 0(R1)    ADD R1, R1, 4    LD R3, p    ST 0(R3), R1    ADD R3, R3, 4### 8.2.4
Generate code for the following sequence assuming that x, y, and z are in memory locations:        if x < Y goto L1        z = 0        goto L2    L1: z = 1#### answer    LD R1, x    LD R2, y    SUB R1, R1, R2    BLTZ R1, M    LD z, 0    ? goto    ? label L1### 8.2.5
Generate code for the following sequence assuming hat n is in a memory location:        s = 0        i = 0    L1: if i > n goto L2        s = s + i        i = i + 1        goto L1    L2:#### answer    LD R1, 0    LD R2, R1    ? label L1    ? where is n come from    ADD R1, R1, R2    ADD R2, R2, 1    ? goto    ? label L2### 8.2.6
Determine the costs of the following instruction sequences:
    1.  LD R0, Y        LD R1, z        ADD R0, R0, R1
        ST x, R0    2.  LD R0, i        MUL R0, R0, 8        LD R1, a(R0)        ST b, R1    3.  LD R0, c        LD R1, i        MUL R1, R1, 8        ST a(R1),R0    4.  LD R0, p        LD R1, 0(R0)        ST x, R1    5.  LD R0, p
        LD R1, x        ST 0(R0), R1    6.  LD R0, x
        LD R1, y        SUB R0, R0, R1
        BLTZ *R3, R0#### answer1. 2 + 2 + 1 + 2 = 72. 2 + 2 + 2 + 2 = 83. 2 + 2 + 2 + 2 = 84. 2 + 2 + 2 = 65. 2 + 2 + 2 = 66. 2 + 2 + 1 + 1 = 6